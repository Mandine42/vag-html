<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="formulaire-dons.css">
    <link rel="stylesheet" href="nav.css">
    <script src="formulaire-dons.js" defer type="module"></script>
    <title>Formulaire de Dons</title>
</head>
<body>
    <header id="scrolled" class="scrolled" role="banner">
    <ol>
        <li><a href="accueil.html"><img src="asset/Group 5.svg" alt="Logo"></img></a></li>
    </ol>
        <nav id="desktop-nav" role="navigation">
            <ul>
                <li><a href="#">Points de Collecte</a></li>
                <li><a href="#">Faire un don</a></li>
                <li><a href="#">Réserver un don</a></li>
                <li><a href="connexion.html">Connexion|Inscription</a></li>
            </ul>
        </nav>
    </header>

    
    <main>
        <section>
            <ul>
           <li><a href=""><h3>Quels sont les aliments autorisés sur VAG ?</h3></a></li> 
        </ul>
        </section>
        <div id="form-container">
            <!-- Section ce que je donne -->
            <section id="formulaire">
               
                <form id="#" action="" method="post">
                    <fieldset>
                        <legend>Ce que je donne</legend>
                        <button type="button" class="toggle-list" data-target="vegetable-list">Légumes</button>
                        <div id="vegetable-list" style="display: none;">
                    <div>
                <input type="checkbox" id="ail" name="msg_légumes[]" value="ail">
                <label for="ail">Ail</label>
                    </div>
                    <div>
                 <input type="checkbox" id="echalotte" name="msg_légumes[]" value="echalotte">
                <label for="echalotte">Echalotte</label>
                    </div>
                    <div>
                 <input type="checkbox" id="oignon" name="msg_légumes[]" value="oignon">
                <label for="oignon">Oignon</label>
                    </div>
                    <div>
                <input type="checkbox" id="persil" name="msg_légumes[]" value="persil">
                <label for="persil">Persil</label>
                     </div>          
                     <div>
                <input type="checkbox" id="ciboulette" name="msg_légumes[]" value="ciboulette">
                <label for="ciboulette">Ciboulette</label>
                     </div>          
                     <div>
                <input type="checkbox" id="coriandre" name="msg_légumes[]" value="coriandre">
                <label for="coriandre">Coriandre</label>
                    </div>          
                    <div>
                <input type="checkbox" id="artichaut" name="msg_légumes[]" value="artichaut">
                <label for="artichaut">Artichaut</label>
                    </div>
                    <div>
                <input type="checkbox" id="aubergine" name="msg_légumes  []" value="aubergine">
                <label for="aubergine">Aubergine</label>
                    </div>
                    <div>
                <input type="checkbox" id="avocat" name="msg_légumes[]" value="avocat">
                <label for="avocat">Avocat</label>
                    </div>
                    <div>
                <input type="checkbox" id="betterave" name="msg_légumes[]" value="betterave">
                <label for="betterave">Betterave</label>
                    </div>          
                    <div>
                <input type="checkbox" id="blette" name="msg_légumes[]" value="blette">
                <label for="blette">Blette</label>
                    </div>          
                     <div>
                <input type="checkbox" id="brocoli" name="msg_légumes[]" value="brocoli">
                <label for="brocoli">Brocoli</label>
                    </div>               
                    <div>
                <input type="checkbox" id="carotte" name="msg_légumes[]" value="carotte">
                <label for="carotte">Carotte</label>
                    </div>
                    <div>
                <input type="checkbox" id="celeri" name="msg_légumes[]" value="celeri">
                <label for="celeri">Céleri</label>
                    </div>
                    <div>
                <input type="checkbox" id="choux" name="msg_légumes[]" value="choux">
                <label for="choux">Choux</label>
                    </div>
                    <div>
                <input type="checkbox" id="choux-fleur" name="msg_légumes[]" value="choux-fleur">
                <label for="choux-fleur">Choux-fleur</label>
                     </div>          
                    <div>
                <input type="checkbox" id="chou-rouge" name="msg_légumes[]" value="chou-rouge">
                <label for="chou-rouge">Chou rouge</label>
                    </div>          
                    <div>
                <input type="checkbox" id="courge" name="msg_légumes[]" value="courge">
                <label for="courge">Courge</label>
                    </div>          
                    <div>
                <input type="checkbox" id="potimaron" name="msg_légumes[]" value="potimaron">
                <label for="potimaron">Potimaron</label>
                    </div>
                    <div>
                <input type="checkbox" id="courgette" name="msg_légumes[]" value="courgette">
                <label for="courgette">Courgette</label>
                    </div>
                    <div>
                <input type="checkbox" id="endive" name="msg_légumes[]" value="endive">
                <label for="endive">Endive</label>
                    </div>
                    <div>
                <input type="checkbox" id="epinard" name="msg_légumes[]" value="epinard">
                <label for="epinard">Epinard</label>
                    </div>          
                    <div>
                <input type="checkbox" id="fenouil" name="msg_légumes[]" value="fenouil">
                <label for="fenouil">Fenouil</label>
                    </div>          
                     <div>
                <input type="checkbox" id="haricot" name="msg_légumes[]" value="haricot">
                <label for="haricot">Haricot</label>
                    </div> 
                    <div>
                <input type="checkbox" id="mais" name="msg_légumes[]" value="mais">
                <label for="mais">Mais</label>
                    </div>          
                    <div>
                <input type="checkbox" id="panais" name="msg_légumes[]" value="panais">
                <label for="panais">Panais</label>
                    </div>          
                    <div>
                <input type="checkbox" id="pdt" name="msg_légumes[]" value="pdt">
                <label for="pdt">PDT</label>
                     </div>  
                     <div>
                <input type="checkbox" id="patate douce" name="msg_légumes[]" value="patate douce">
                <label for="patate douce">Patate douce</label>
                    </div>          
                    <div>
                <input type="checkbox" id="poireaux" name="msg_légumes[]" value="poireaux">
                <label for="poireaux">Poireaux</label>
                    </div>          
                    <div>
                <input type="checkbox" id="poivron" name="msg_légumes[]" value="poivron">
                <label for="poivron">Poivron</label>
                    </div>   
                    <div>
                <input type="checkbox" id="radis" name="msg_légumes[]" value="radis">
                <label for="radis">Radis</label>
                    </div>          
                    <div>
                <input type="checkbox" id="salade" name="msg_légumes[]" value="salade">
                <label for="salade">Salade</label>
                    </div>                         
                       
                    <div>
                        <input type="checkbox" class="autre" data-target="otherTextField1" name="msg_légumes[]" value="other1">
                        <label for="autre">Autre</label>
                        <input type="text" id="otherTextField1" name="other_input1" placeholder="Veuillez préciser..." style="display: none;">
                      </div>
                    </div>
<button type="button" class="toggle-list" data-target="fruit-list">Fruits</button>
                <div id="fruit-list" style="display: none;">
                <div>
                <input type="checkbox" id="pomme" name="msg_fruits[]" value="pomme">
                 <label for="pomme">Pomme</label>
                    </div>
                    <div>
                <input type="checkbox" id="poire" name="msg_fruits[]" value="poire">
                <label for="poire">Poire</label>
                    </div>          
                <div>
                <input type="checkbox" id="kiwi" name="msg_fruits[]" value="kiwi">
                <label for="kiwi">Kiwi</label>
                    </div>                         
                    <div>
                <input type="checkbox" id="kiwi jaune" name="msg_fruits[]" value="kiwi jaune">
                <label for="kiwi jaune">Kiwi jaune</label>
                    </div>
                    <div>
                <input type="checkbox" id="banane" name="msg_fruits[]" value="banane">
                <label for="banane">Banane</label>
                    </div>          
                    <div>
                <input type="checkbox" id="orange" name="msg_fruits[]" value="orange">
                <label for="orange">Orange</label>
                    </div> 
                    <div>
                <input type="checkbox" id="clémentine" name="msg_fruits[]" value="clémentine">
                <label for="clémentine">Clémentine</label>
                     </div>
                     <div>
                <input type="checkbox" id="citron" name="msg_fruits[]" value="citron">
                <label for="citron">Citron</label>
                       </div>          
                     <div>
                <input type="checkbox" id="tomate" name="msg_fruits[]" value="tomate">
                <label for="tomate">Tomate</label>
                    </div>                         
                    <div>
                <input type="checkbox" id="tomate cerise" name="msg_fruits[]" value="tomate cerise">
                <label for="tomate cerise">Tomate cerise</label>
                    </div>
                    <div>
                <input type="checkbox" id="tomate ancienne" name="msg_fruits[]" value="tomate ancienne">
                <label for="tomate ancienne">Tomate ancienne</label>
                    </div>          
                    <div>
                <input type="checkbox" id="fraise" name="msg_fruits[]" value="fraise">
                <label for="fraise">Fraise</label>
                    </div>  
                    <div>
                <input type="checkbox" id="kaki" name="msg_fruits[]" value="kaki">
                <label for="kaki">Kaki</label>
                    </div>          
                    <div>
                <input type="checkbox" id="mangue" name="msg_fruits[]" value="mangue">
                <label for="mangue">Mangue</label>
                    </div> 
                    <div>
                <input type="checkbox" id="melon" name="msg_fruits[]" value="melon">
                <label for="melon">Melon</label>
                    </div>
                    <div>
                <input type="checkbox" id="pastèque" name="msg_fruits[]" value="pastèque">
                <label for="pastèque">Pastèque</label>
                    </div>          
                    <div>
                <input type="checkbox" id="pamplemousse" name="msg_fruits[]" value="pamplemousse">
                <label for="pamplemousse">Pamplemousse</label>
                    </div>                         
                    <div>
                <input type="checkbox" id="pêche" name="msg_fruits[]" value="pêche">
                <label for="pêche">Pêche</label>
                    </div>
                    <div>
                <input type="checkbox" id="prune" name="msg_fruits[]" value="prune">
                <label for="prune">Prune</label>
                    </div>          
                    <div>
                <input type="checkbox" id="raisin" name="msg_fruits[]" value="raisin">
                <label for="raisin">Raisin</label>
                    </div>        
                    <div>
                <input type="checkbox" class="autre" data-target="otherTextField2" name="msg_fruits[]" value="other2">
                <label for="autre">Autre</label>
                <input type="text" id="otherTextField2" name="other_input2" placeholder="Veuillez préciser..." style="display: none;">
                    </div>
                
                
            </div>
                <button type="button" class="toggle-list" data-target="fresh-list">Produits frais</button>

                <div id="fresh-list" style="display: none;">
                    <div>
                        <input type="checkbox" class="toggle-dropdown" data-target="poisson-options" id="poisson" name="msg_fresh[]" value="poisson">
                        <label for="poisson">Poisson</label>
                        <div id="poisson-options" class="dropdown-options" style="display: none;">
                          <input type="checkbox" id="poisson-pane" name="msg_fresh_sub[]" value="poisson-pane">
                          <label for="poisson-pane">Poisson pané</label><br>
                          <input type="checkbox" id="saumon" name="msg_fresh_sub[]" value="saumon">
                          <label for="saumon">Saumon</label><br>
                          <input type="checkbox" class="autre" data-target="otherTextField4" name="msg_fresh[]" value="other4">
                          <label for="autre">Autre</label>
                          <input type="text" id="otherTextField4" name="other_input4" placeholder="Veuillez préciser..." style="display: none;">
                        </div>
                      </div>
                      
                      <div>
                        <input type="checkbox" id="oeuf" name="msg_fresh[]" value="oeuf">
                        <label for="oeuf">Oeuf</label>
                      
  <!-- Menu déroulant pour la quantité -->
  <select id="quantitySelect1" name="quantity1">
    <option value="Non spécifiée">Sélectionnez la quantité</option>
    <!-- Génération des options de 1 à 10 -->
    <option value="1">1</option>
    <option value="2">2</option>
    <option value="3">3</option>
    <option value="4">4</option>
    <option value="5">5</option>
    <option value="6">6</option>
    <option value="7">7</option>
    <option value="8">8</option>
    <option value="9">9</option>
    <option value="10">10</option>
  </select>
                      
                        <input type="checkbox" class="date-peremption" data-target="datePeremption1" name="msg_fresh[]" value="date-peremption">
                        <label for="datePeremption1">Date de péremption</label>
                        <input type="date" id="datePeremption1" name="date_input1" placeholder="Date de péremption" style="display: none;">
                      </div>
                               
                <div>
                <input type="checkbox" id="plat cuisiner" name="msg_fresh[]" value="plat cuisiner">
                <label for="plat cuisiner">Plat cuisiner</label>
                <input type="checkbox" class="quantite" data-target="otherQuantite2" name="msg_fresh[]" value="quantite2">
                <label for="quantite2">Quantité</label>
                <input type="text" id="otherQuantite2" name="other_input2" placeholder="Veuillez préciser..." style="display: none;">
                    </div>                         
                    <div>
                        <input type="checkbox" class="toggle-dropdown" data-target="viande-options" id="viande" name="msg_fresh[]" value="viande">
                        <label for="poisson">Viande</label>
                        <div id="viande-options" class="dropdown-options" style="display: none;">
                          <input type="checkbox" id="saucisses" name="msg_fresh_sub[]" value="saucisses">
                          <label for="saucisses">Saucisses</label><br>
                          <input type="checkbox" id="jambon" name="msg_fresh_sub[]" value="jambon">
                          <label for="jambon">Jambon</label><br>
                          <input type="checkbox" id="steack" name="msg_fresh_sub[]" value="steack">
                          <label for="steack">Steack haché</label><br>
                          <input type="checkbox" id="poulet" name="msg_fresh_sub[]" value="poulet">
                          <label for="poulet">Poulet</label><br>
                          <input type="checkbox" class="autre" data-target="otherTextField5" name="msg_fresh[]" value="other5">
                          <label for="autre">Autre</label>
                          <input type="text" id="otherTextField5" name="other_input5" placeholder="Veuillez préciser..." style="display: none;">
                        </div>
                <div>
                <input type="checkbox" class="autre" data-target="otherTextField3" name="msg_fresh[]" value="other3">
                <label for="autre">Autre</label>
                <input type="text" id="otherTextField3" name="other_input3" placeholder="Veuillez préciser..." style="display: none;">
                    </div>
                </div>
                <button type="button" class="validate-selection" data-target="fresh-list" data-display="selected-fresh">Valider</button>
                <div id="selected-fresh"></div>
                </div>
                <button type="button" class="toggle-list" data-target="milk-list">Produits laitiers</button>
                <div id="milk-list" style="display: none;">
                    <div>
                        <input type="checkbox" class="toggle-dropdown" data-target="fromage-options" id="fromage" name="msg_milk[]" value="fromage">
                        <label for="fromage">Fromage</label>
                        <div id="fromage-options" class="dropdown-options" style="display: none;">
                          <input type="checkbox" id="camembert" name="msg_milk_sub[]" value="camembert">
                          <label for="camembert">Camembert</label><br>
                          <input type="checkbox" id="chèvre" name="msg_milk_sub[]" value="chèvre">
                          <label for="chèvre">Chèvre</label><br>
                          <input type="checkbox" id="gruyère" name="msg_milk_sub[]" value="gruyère">
                          <label for="gruyère">Gruyère</label><br>
                          <input type="checkbox" id="kiri" name="msg_milk_sub[]" value="kiri">
                          <label for="kiri">Kiri</label><br>
                          <input type="checkbox" class="autre" data-target="otherTextField6" name="msg_milk[]" value="other6">
                          <label for="autre">Autre</label>
                          <input type="text" id="otherTextField6" name="other_input6" placeholder="Veuillez préciser..." style="display: none;">
                        </div>
                      </div>
                      
                    <div>
                <input type="checkbox" id="crème fraiche" name="msg_milk[]" value="crème fraiche">
                <label for="crème fraiche">Crème fraîche</label>
                <input type="checkbox" class="quantite" data-target="otherQuantite3" name="msg_milk[]" value="quantite3">
                <label for="quantite3">Quantité</label>
                <input type="text" id="otherQuantite3" name="other_input3" placeholder="Veuillez préciser..." style="display: none;">
                <input type="checkbox" class="date-peremption" data-target="expirationDate3" name="msg_milk[]" value="date-peremption">
                <label for="expirationDate3">Date de péremption</label>
                <input type="date" id="expirationDate3" name="expiration_date" style="display: none;">
                      </div>
                      <div>
                        <input type="checkbox" id="beurre" name="msg_milk[]" value="beurre">
                        <label for="beurre">Beurre</label>
                        <input type="checkbox" class="quantite" data-target="otherQuantite5" name="msg_milk[]" value="quantite5">
                        <label for="quantite5">Quantité</label>
                        <input type="text" id="otherQuantite5" name="other_input5" placeholder="Veuillez préciser..." style="display: none;">
                        <input type="checkbox" class="date-peremption" data-target="expirationDate2" name="msg_milk[]" value="date-peremption">
                        <label for="expirationDate2">Date de péremption</label>
                        <input type="date" id="expirationDate2" name="expiration_date" style="display: none;">
                              </div>

                        <div>
                        <input type="checkbox" class="toggle-dropdown" data-target="lait-options" id="lait" name="msg_milk[]" value="lait">
                        <label for="lait">Lait</label>
                        <div id="lait-options" class="dropdown-options" style="display: none;">
                        <input type="checkbox" id="lait chèvre" name="msg_milk_sub[]" value="lait chèvre">
                        <label for="lait chèvre">Lait de chèvre</label><br>
                        <input type="checkbox" id="lait brebis" name="msg_milk_sub[]" value="lait brebis">
                        <label for="lait brebis">Lait de brebis</label><br>
                        <input type="checkbox" id="lait végétal" name="msg_milk_sub[]" value="lait végétal">
                        <label for="lait végétal">Lait végétal</label><br>
                        <input type="checkbox" id="lait aromatisé" name="msg_milk_sub[]" value="lait aromatisé">
                        <label for="lait aromatisé">Lait aromatisé</label><br>
                        <input type="checkbox" class="autre" data-target="otherTextField9" name="msg_milk[]" value="other9">
                        <label for="autre">Autre</label>
                        <input type="text" id="otherTextField9" name="other_input9" placeholder="Veuillez préciser..." style="display: none;">
                            </div>
                            </div>
                            <div>
                        <input type="checkbox" class="toggle-dropdown" data-target="yaourt-options" id="yaourt" name="msg_milk[]" value="yaourt">
                        <label for="lait">Yaourt</label>
                        <div id="yaourt-options" class="dropdown-options" style="display: none;">
                        <input type="checkbox" id="yaourt chèvre" name="msg_milk_sub[]" value="yaourt chèvre">
                        <label for="yaourt chèvre">Yaourt chèvre</label><br>
                        <input type="checkbox" id="yaourt brebis" name="msg_milk_sub[]" value="yaourt brebis">
                        <label for="yaourt brebis">Yaourt brebis</label><br>
                        <input type="checkbox" id="yaourt végétal" name="msg_milk_sub[]" value="yaourt végétal">
                        <label for="yaourt végétal">Yaourt végétal</label><br>
                        <input type="checkbox" id="yaourt aromatisé" name="msg_milk_sub[]" value="yaourt aromatisé">
                        <label for="yaourt aromatisé">Yaourt aromatisé</label><br>
                        <input type="checkbox" id="yaourt vache" name="msg_milk_sub[]" value="yaourt vache">
                        <label for="yaourt vache">Yaourt vache</label><br>
                        <input type="checkbox" class="autre" data-target="otherTextField8" name="msg_milk[]" value="otherTextField8">
                        <label for="autre">Autre</label>
                        <input type="text" id="otherTextField8" name="other_input8" placeholder="Veuillez préciser..." style="display: none;">
                                </div>
                                    </div>
                      <div>
                        <input type="checkbox" class="autre" data-target="otherTextField7" name="msg_milk[]" value="other7">
                        <label for="autre">Autre</label>
                        <input type="text" id="otherTextField7" name="other_input7" placeholder="Veuillez préciser..." style="display: none;">
                            </div>
                     </div>
                    
<!-- Bouton de validation -->
<button type="button" id="validate-all">Voir ma sélection</button>

<!-- Div où les éléments validés seront affichés -->
<div id="selected-items"></div>
                    </fieldset>
    
                    <fieldset>
                        <legend>Vos Coordonnées</legend>
                        <label for="tel">Téléphone</label>
                        <input type="tel" name="telephone" id="tel">
                        <label for="adresse">Adresse *</label>
                        <input type="adresse" name="adresse" id="adresse" required aria-required-autocomplete>
                        <label for="quartier">Quartier</label>
                        <select name="msg quartier" id="quartier" required aria-required aria-autocomplete>
                            <option value="#">Selectionnez</option>
                            <optgroup label="Quartier">
                                <option value="rdv">RDV</option>
                                <option value="devis">DEVIS</option>
                                <option value="invoice">FACTURE</option>
                            </optgroup>
                        </select>
                        <label for="email">Email *</label>
                        <input type="email" name="email" id="email" required aria-required-autocomplete>
                    </fieldset>
    
                    <fieldset>
                        <legend>Identifiants</legend>
                        <label for="Nom d'utilisateur">Nom d'utilisateur *</label>
                        <input type="text" id="Nom-utilisateur" name="nom-utilateur" required aria-required-autocomplete>
                        <label for="img">Choisir une image</label>
                        <input type="file" id="avatar" name="avatar">
                        <label for="Mot de passe">Mot de passe *</label>
                        <input type="password" id="password" name="password" required aria-required-autocomplete>
                        <label for="Confirmer le mot de passe">Confirmer le mot de passe *</label>
                        <input type="password" id="password" name="password" required aria-required-autocomplete>
                    </fieldset>
    
                    <fieldset>
                        <legend>Conditions d'utilisation</legend>
                        <div id="condition">
                        <input type="checkbox" id="condition" name="condition" required aria-required-autocomplete>
                        <span id=""custom-checkbox></span>
                        <label for="condition">J'accepte les conditions d'utilisation</label>
                    </div>
                    </fieldset>
    
                    <input type="submit" value="S'inscrire" id="submit-button">
                </form>
    </main>

    <nav id="smartphone-nav" role="navigation">
        <ol>
        <li><a href="#"><img src="asset/img-smartphone/logo smartphone.svg" alt="Logo"></img></a></li>
    </ol>
        <ul id="smartphone">
            <li><a href="#"><img src="asset/img-smartphone/Profil.svg" alt="Logo de la collect"></img></a></li>
            <li><a href="#"><img src="asset/img-smartphone/Dons.svg" alt="Logo de la don"></img></a></li>
            <li><a href="#"><img src="asset/img-smartphone/Voir les dons.svg" alt="Logo Réserver"></img></a></li>
            <li><a href="connexion.html"><img src="asset/img-smartphone/Collect.svg" alt="Logo de la profil"></img></a></li>
        </ul>
    </nav>

    <footer role="footer">
        <section id="footer">
            <h3>VOISINS ANTI-GASPI</h3>
            <ul id="menu-footer">
                <li><a href="#">Plan du site</a></li>
                <li><a href="#">Mentions légales</a></li>
                <li><a href="#">CDG</a></li>
                <li><a href="#"><img src="asset/Contactez-nous.svg" alt="Logo de Contactez-nous"></img></a></li>
               </ul>
               <p>Copyright © 2024 Voisins anti-gaspi.Tous droits réservés.</p>
            <ul id="reseaux-sociaux">
                <li><a href="#"><img src="asset/TwitterX.svg" alt="Logo TwitterX"></img></a></li>
                <li><a href="#"><img src="asset/Instagram.svg" alt="Logo Instagram"></img></a></li> 
                <li><a href="#"><img src="asset/Facebook F.svg" alt="Logo Facebook"></img></a></li>
             </ul>
            
     
        </section>
    </footer>

    <script>         

// window.onscroll :Déclenche une fonction chaque fois que l'utilisateur fait défiler la page
//toggle:ajoute ou supprimesi la condition est vraie ou fausse. Ajoute le nom de la classe et une condition. 
      window.onscroll = () => {
    document.querySelector('header').classList.toggle('scrolled', window.scrollY > 50);
};

/// Fonction pour basculer l'affichage d'une liste
function toggleList(targetId) {
  var list = document.getElementById(targetId);
  list.style.display = (list.style.display === "none") ? "block" : "none";
}
function displaySelectedItemsFromMultipleDivs(divIds, displayId) {
  var displayDiv = document.getElementById(displayId);
  var allSelectedItems = [];

  divIds.forEach(function(divId) {
    var div = document.getElementById(divId);

    // Récupère les éléments cochés dans chaque div
    var selectedItems = Array.from(div.querySelectorAll('input[type="checkbox"]:checked')).map(checkbox => {
      var itemName = checkbox.nextElementSibling.textContent;
      var parentDiv = checkbox.parentElement;
      var quantitySelect = parentDiv.querySelector('select');
      var dateInput = parentDiv.querySelector('input[type="date"]');

      var quantity = quantitySelect ? quantitySelect.value : "Non spécifiée";
      var datePeremption = dateInput ? dateInput.value : "Non spécifiée";

      return {
        name: itemName,
        quantity: quantity,
        datePeremption: datePeremption
      };
    });

    allSelectedItems = allSelectedItems.concat(selectedItems);
  });

  // Affiche les éléments sélectionnés avec les informations supplémentaires
  if (allSelectedItems.length > 0) {
    displayDiv.innerHTML = "<p>Vous avez sélectionné :</p><ul>" +
      allSelectedItems.map(item => 
        `<li>${item.name} - Quantité: ${item.quantity} - Date de péremption: ${item.datePeremption}</li>`
      ).join('') +
      "</ul>";
  } else {
    displayDiv.innerHTML = "<p>Aucune sélection</p>";
  }

  // Cacher toutes les listes après validation
  divIds.forEach(function(divId) {
    document.getElementById(divId).style.display = "none";
  });
}

// Écouteur d'événement pour le bouton de validation
document.getElementById('validate-all').addEventListener('click', function() {
  var divIds = ['vegetable-list', 'fruit-list', 'fresh-list', 'milk-list']; // Liste des divs à valider
  var displayId = 'selected-items';
  displaySelectedItemsFromMultipleDivs(divIds, displayId);
});

// Fonction pour afficher les éléments sélectionnés et cacher la liste
function displaySelectedItems(targetId, displayId) {  
  var list = document.getElementById(targetId);
  var displayDiv = document.getElementById(displayId);

  // Récupère les éléments sélectionnés
  var selectedItems = Array.from(list.querySelectorAll('input:checked')).map(checkbox => {
    var itemName = checkbox.nextElementSibling.textContent;
    var quantityInput = checkbox.parentElement.querySelector('input[type="text"]');
    var dateInput = checkbox.parentElement.querySelector('input[type="date"]');
    
    var quantity = quantityInput && quantityInput.style.display !== "none" ? quantityInput.value : "Non spécifiée";
    var datePeremption = dateInput && dateInput.style.display !== "none" ? dateInput.value : "Non spécifiée";

    return {
      name: itemName,
      quantity: quantity,
      datePeremption: datePeremption
    };
  });

  // Affiche les éléments sélectionnés avec les informations supplémentaires
  if (selectedItems.length > 0) {
    displayDiv.innerHTML = "<p>Vous avez sélectionné :</p><ul>" +
      selectedItems.map(item => 
        `<li>${item.name} - Quantité: ${item.quantity} - Date de péremption: ${item.datePeremption}</li>`
      ).join('') +
      "</ul>";
  } else {
    displayDiv.innerHTML = "<p>Aucune sélection</p>";
  }

  // Cacher la liste après validation
  list.style.display = "none";
}

// Écouteurs d'événements pour les boutons de basculement de liste
document.querySelectorAll('.toggle-list').forEach(button => {
  button.addEventListener('click', function() {
    var targetId = this.getAttribute('data-target');
    toggleList(targetId);
  });
});

// Écouteurs d'événements pour les boutons de validation de sélection
document.querySelectorAll('.validate-selection').forEach(button => {
  button.addEventListener('click', function() {
    var targetId = this.getAttribute('data-target');
    var displayId = this.getAttribute('data-display');
    displaySelectedItems(targetId, displayId);
  });
});

// Gère l'affichage du dropdown (choix multiple)
document.querySelectorAll('.toggle-dropdown').forEach(function(checkbox) {
    checkbox.addEventListener('change', function() {
        var targetId = this.getAttribute('data-target');
        var dropdown = document.getElementById(targetId);

        if (this.checked) {
            dropdown.style.display = "block";  // Affiche le dropdown
        } else {
            dropdown.style.display = "none";   // Cache le dropdown
        }
    });
});
// Gère l'affichage du menu déroulant si "Quantité" est coché
document.querySelectorAll('.quantite').forEach(function(checkbox) {
  checkbox.addEventListener('change', function() {
    var targetId = this.getAttribute('data-target');
    var quantitySelect = document.getElementById(targetId);

    if (this.checked) {
      quantitySelect.style.display = "block";  // Affiche le menu déroulant
    } else {
      quantitySelect.style.display = "none";   // Cache le menu déroulant
    }
  });
});



    // Gère l'affichage du champ texte si "Autre" est coché
    document.querySelectorAll('.autre').forEach(function(checkbox) {
    checkbox.addEventListener('change', function() {
        var targetId = this.getAttribute('data-target');
        var otherTextField = document.getElementById(targetId);

        if (this.checked) {
            otherTextField.style.display = "block";  // Affiche le champ texte
        } else {
            otherTextField.style.display = "none";   // Cache le champ texte
        }
    });
});
   // Gère l'affichage du champ texte si "Quantité" est coché
   document.querySelectorAll('.quantite').forEach(function(checkbox) {
    checkbox.addEventListener('change', function() {
        var targetId = this.getAttribute('data-target');
        var otherQuantite = document.getElementById(targetId);

        if (this.checked) {
            otherQuantite.style.display = "block";  // Affiche le champ texte
        } else {
            otherQuantite.style.display = "none";   // Cache le champ texte
        }
    });
});
// Gère l'affichage du champ texte si "Date de péremption" est coché
document.querySelectorAll('.date-peremption').forEach(function(checkbox) {
    checkbox.addEventListener('change', function() {
        var targetId = this.getAttribute('data-target');
        var expirationDate = document.getElementById(targetId);

        if (this.checked) {
            expirationDate.style.display = "block";  // Affiche le champ date pour la péremption
        } else {
            expirationDate.style.display = "none";   // Cache le champ date pour la péremption
        }
    });
});


    </script>
</body>
</html>